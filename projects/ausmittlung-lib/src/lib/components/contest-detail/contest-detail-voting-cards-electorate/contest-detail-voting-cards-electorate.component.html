<vo-ausm-contest-detail-voting-cards-expansion-panel
  [header]="expansionPanelHeaderTitle">
  <div class="voting-cards"
       voAusmBindCssVar="voting-cards-per-row"
       [voAusmBindCssVarValue]="(votingCardDetailsValue.length % 2 === 0 && !hasInvalidVotingCardChannel) || newZhFeaturesEnabled ? 3 : 2">
    <ng-container *ngFor="let votingCardDetail of votingCardDetailsValue; let i = index">
      <bc-number
        [disabled]="readonly || votingCardDetail.channel === votingChannels.VOTING_CHANNEL_E_VOTING"
        [required]="true"
        [min]="0"
        [value]="votingCardDetail.countOfReceivedVotingCards"
        (valueChange)="update(votingCardDetail, $event)"
        [label]="'CONTEST.DETAIL.VOTING_CARDS.' + votingCardDetail.channel + (votingCardDetail.channel === votingChannels.VOTING_CHANNEL_BY_MAIL ? '_' + (votingCardDetail.valid ? 'VALID' : 'INVALID') + (canton === domainOfInfluenceCantons.DOMAIN_OF_INFLUENCE_CANTON_TG ? '_TG' : '') : '') | translate"
        [subscriptSizing]="'dynamic'"></bc-number>
      <div *ngIf="i === 1 && votingCardDetailsValue.length === 4 && !hasInvalidVotingCardChannel"></div>
    </ng-container>
    <div *ngIf="votingCardDetailsValue.length % 2 !== 0 && hasInvalidVotingCardChannel"></div>
    <bc-number *ngIf="hasInvalidVotingCardChannel && votingCardDetailsValue.length > 1"
               [disabled]="true"
               [required]="true"
               [value]="totalValid"
               [label]="'CONTEST.DETAIL.VOTING_CARDS.TOTAL_VALID' | translate"
               [subscriptSizing]="'dynamic'"></bc-number>
    <bc-number *ngIf="votingCardDetailsValue.length > 1"
               [disabled]="true"
               [required]="true"
               [value]="total"
               [label]="'CONTEST.DETAIL.VOTING_CARDS.TOTAL' | translate"
               [subscriptSizing]="'dynamic'"></bc-number>
  </div>
</vo-ausm-contest-detail-voting-cards-expansion-panel>
